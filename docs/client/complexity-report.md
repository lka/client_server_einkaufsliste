# Complexity Report

| File | Lines | Functions | Complexity | Cyclomatic | McCabe |
|------|-------|-----------|------------|------------|--------|
| src\data\api\webdav-api.ts | 222 | 6 | 31 | 44 | 50 |
| src\ui\components\autocomplete.ts | 298 | 7 | 28 | 42 | 49 |
| src\ui\shopping-list-ui.ts | 246 | 20 | 41 | 29 | 49 |
| src\ui\user-admin.ts | 213 | 15 | 31 | 33 | 48 |
| src\ui\weekplan\entry-input.ts | 212 | 11 | 25 | 35 | 46 |
| src\data\api\items-api.ts | 198 | 6 | 28 | 37 | 43 |
| src\ui\weekplan.ts | 182 | 13 | 34 | 30 | 43 |
| src\data\api\products-api.ts | 209 | 6 | 29 | 36 | 42 |
| src\data\api\templates-api.ts | 169 | 5 | 24 | 37 | 42 |
| src\ui\weekplan\template-modal.ts | 246 | 18 | 32 | 24 | 42 |
| src\data\auth.ts | 245 | 14 | 32 | 27 | 41 |
| src\ui\components\datepicker\create-date-picker.ts | 164 | 10 | 22 | 31 | 41 |
| src\ui\print-utils\convert-to-four-columns.ts | 167 | 7 | 22 | 32 | 39 |
| src\ui\store-browser.ts | 196 | 16 | 27 | 23 | 39 |
| src\ui\product-admin\event-handlers.ts | 198 | 15 | 30 | 23 | 38 |
| src\ui\shopping-list\print-rendering.ts | 165 | 16 | 21 | 22 | 38 |
| src\ui\components\input.ts | 206 | 7 | 20 | 30 | 37 |
| src\data\api\weekplan-api.ts | 193 | 9 | 27 | 27 | 36 |
| src\ui\template-admin\render-templates.ts | 177 | 8 | 29 | 28 | 36 |
| src\ui\product-admin\rendering.ts | 183 | 8 | 15 | 27 | 35 |
| src\state\product-admin-state.ts | 264 | 11 | 29 | 22 | 33 |
| src\pages\login.ts | 109 | 10 | 21 | 21 | 31 |
| src\ui\backup-admin.ts | 189 | 9 | 20 | 22 | 31 |
| src\ui\components\button.ts | 191 | 5 | 18 | 26 | 31 |
| src\ui\shopping-list\dialogs.ts | 205 | 12 | 22 | 19 | 31 |
| src\ui\template-admin\attach-template-admin-listeners.ts | 103 | 8 | 21 | 23 | 31 |
| src\ui\components\connection-status.ts | 251 | 9 | 19 | 21 | 30 |
| src\ui\components\tabs.ts | 211 | 2 | 15 | 28 | 30 |
| src\ui\components\dropdown\searchable-dropdown.ts | 116 | 12 | 20 | 17 | 29 |
| src\data\websocket\connection.ts | 150 | 10 | 21 | 18 | 28 |
| src\ui\weekplan\modal-shared.ts | 249 | 16 | 24 | 12 | 28 |
| src\state\shopping-list-state.ts | 202 | 5 | 19 | 22 | 27 |
| src\ui\components\toast.ts | 326 | 10 | 18 | 17 | 27 |
| src\ui\webdav-admin\modals.ts | 267 | 7 | 16 | 20 | 27 |
| src\data\api\types.ts | 135 | 0 | 0 | 26 | 26 |
| src\ui\components\datepicker\create-calendar.ts | 162 | 12 | 24 | 14 | 26 |
| src\ui\weekplan\ingredient-parser\parsers.ts | 83 | 5 | 12 | 21 | 26 |
| src\ui\weekplan\weekplan-state.ts | 181 | 2 | 22 | 24 | 26 |
| src\data\api\stores-api\departments.ts | 126 | 4 | 17 | 21 | 25 |
| src\data\api\stores-api\stores.ts | 119 | 4 | 18 | 21 | 25 |
| src\data\websocket\subscriptions.ts | 77 | 24 | 24 | 0 | 24 |
| src\state\store-admin-state.ts | 160 | 7 | 19 | 17 | 24 |
| src\ui\shopping-list\print-controls.ts | 139 | 11 | 15 | 13 | 24 |
| src\data\api\users-api.ts | 115 | 4 | 16 | 19 | 23 |
| src\data\dom.ts | 159 | 6 | 20 | 17 | 23 |
| src\ui\components\datepicker\date-utils.ts | 63 | 6 | 13 | 16 | 22 |
| src\ui\components\modal.ts | 253 | 4 | 16 | 18 | 22 |
| src\ui\template-admin\create-form-buttons.ts | 109 | 4 | 16 | 18 | 22 |
| src\state\store-state\department-operations.ts | 129 | 3 | 8 | 18 | 21 |
| src\ui\components\loading.ts | 213 | 6 | 8 | 15 | 21 |
| src\ui\product-admin\init.ts | 93 | 5 | 15 | 16 | 21 |
| src\data\api\units-api.ts | 115 | 4 | 16 | 16 | 20 |
| src\state\store-state\store-operations.ts | 114 | 3 | 6 | 17 | 20 |
| src\ui\print-utils\print-weekplan.ts | 242 | 13 | 17 | 7 | 20 |
| src\ui\store-admin\department-handlers.ts | 93 | 6 | 11 | 13 | 19 |
| src\ui\webdav-admin\event-handlers.ts | 89 | 13 | 13 | 6 | 19 |
| src\state\store-state\product-operations.ts | 123 | 3 | 9 | 15 | 18 |
| src\ui\store-admin.ts | 91 | 13 | 17 | 5 | 18 |
| src\ui\user-menu\navigation-handlers.ts | 67 | 5 | 16 | 13 | 18 |
| src\ui\user-menu\websocket-handlers.ts | 80 | 9 | 15 | 9 | 18 |
| src\ui\weekplan\recipe-modal.ts | 82 | 6 | 10 | 12 | 18 |
| src\data\api\backup-api.ts | 75 | 2 | 8 | 15 | 17 |
| src\data\inactivity-tracker.ts | 101 | 11 | 16 | 6 | 17 |
| src\ui\print-utils\is-android.ts | 29 | 2 | 8 | 15 | 17 |
| src\ui\components\card.ts | 132 | 4 | 12 | 12 | 16 |
| src\ui\shopping-list\item-operations.ts | 86 | 3 | 12 | 13 | 16 |
| src\ui\shopping-list\print-preview.ts | 157 | 12 | 15 | 4 | 16 |
| src\ui\weekplan\recipe-modal\modal-builder.ts | 105 | 8 | 14 | 8 | 16 |
| src\ui\user-menu\menu-toggle-handlers.ts | 58 | 7 | 13 | 8 | 15 |
| src\ui\weekplan\weekplan-rendering.ts | 120 | 7 | 10 | 7 | 14 |
| src\data\websocket\state.ts | 85 | 12 | 12 | 1 | 13 |
| src\ui\components\dropdown\native-dropdown.ts | 81 | 6 | 13 | 7 | 13 |
| src\ui\print-utils\print-debug.ts | 97 | 5 | 9 | 8 | 13 |
| src\ui\print-utils\print-on-android.ts | 170 | 4 | 8 | 9 | 13 |
| src\ui\product-admin\state.ts | 88 | 7 | 11 | 6 | 13 |
| src\ui\shopping-list\store-manager.ts | 107 | 4 | 11 | 9 | 13 |
| src\ui\store-admin\renderer.ts | 115 | 5 | 7 | 8 | 13 |
| src\ui\units-admin\edit-unit-modal.ts | 146 | 6 | 8 | 7 | 13 |
| src\ui\units-admin\handle-drag-and-drop.ts | 39 | 4 | 10 | 9 | 13 |
| src\ui\weekplan\ingredient-parser\ingredient-parser.ts | 62 | 3 | 8 | 10 | 13 |
| src\data\websocket\message-handler.ts | 57 | 3 | 10 | 9 | 12 |
| src\script.ts | 74 | 3 | 9 | 9 | 12 |
| src\state\store-state\selection.ts | 136 | 4 | 8 | 8 | 12 |
| src\ui\print-utils\print-preview-content-popup.ts | 171 | 4 | 7 | 8 | 12 |
| src\ui\shopping-list\print-helpers.ts | 63 | 5 | 10 | 7 | 12 |
| src\ui\store-admin\utils.ts | 43 | 1 | 5 | 11 | 12 |
| src\ui\units-admin\units-admin-actions.ts | 54 | 3 | 6 | 9 | 12 |
| src\state\store-state.ts | 140 | 2 | 2 | 9 | 11 |
| src\ui\shopping-list\filters.ts | 59 | 6 | 9 | 5 | 11 |
| src\ui\weekplan\recipe-modal\ingredient-renderer.ts | 78 | 5 | 7 | 6 | 11 |
| src\ui\weekplan\weekplan-utils.ts | 60 | 6 | 7 | 5 | 11 |
| src\state\template-admin-state.ts | 156 | 4 | 10 | 6 | 10 |
| src\ui\weekplan\weekplan-websocket.ts | 47 | 4 | 8 | 6 | 10 |
| src\data\websocket\event-system.ts | 34 | 5 | 8 | 4 | 9 |
| src\ui\store-admin\store-handlers.ts | 47 | 3 | 5 | 6 | 9 |
| src\ui\webdav-admin\form.ts | 83 | 3 | 5 | 6 | 9 |
| src\ui\webdav-admin\renderer.ts | 55 | 2 | 4 | 7 | 9 |
| src\ui\weekplan\ingredient-parser\fraction-converter.ts | 33 | 2 | 6 | 7 | 9 |
| src\script-products.ts | 58 | 2 | 8 | 6 | 8 |
| src\ui\components\dropdown\types.ts | 31 | 0 | 0 | 8 | 8 |
| src\ui\units-admin\units-admin-render.ts | 86 | 3 | 8 | 5 | 8 |
| src\ui\units-admin\units-admin-websocket.ts | 30 | 5 | 8 | 3 | 8 |
| src\ui\user-menu\auth-handlers.ts | 37 | 3 | 7 | 5 | 8 |
| src\ui\weekplan\recipe-modal\utils.ts | 30 | 2 | 7 | 6 | 8 |
| src\data\api\recipes-api.ts | 53 | 2 | 4 | 5 | 7 |
| src\data\websocket\heartbeat.ts | 28 | 3 | 6 | 4 | 7 |
| src\script-stores.ts | 56 | 2 | 7 | 5 | 7 |
| src\script-templates.ts | 56 | 2 | 7 | 5 | 7 |
| src\ui\user-menu\utils.ts | 37 | 2 | 5 | 5 | 7 |
| src\ui\weekplan\ingredient-parser\formatters.ts | 28 | 3 | 3 | 4 | 7 |
| src\data\api\config-api.ts | 43 | 2 | 4 | 4 | 6 |
| src\data\api\utils.ts | 45 | 3 | 6 | 3 | 6 |
| src\script-weekplan.ts | 46 | 1 | 6 | 5 | 6 |
| src\ui\store-admin\modals.ts | 99 | 5 | 6 | 1 | 6 |
| src\ui\user-menu.ts | 47 | 4 | 5 | 2 | 6 |
| src\ui\weekplan\weekplan-navigation.ts | 60 | 6 | 6 | 0 | 6 |
| src\ui\weekplan\weekplan-print.ts | 28 | 3 | 5 | 3 | 6 |
| src\data\websocket\broadcasts.ts | 37 | 5 | 5 | 0 | 5 |
| src\state\user-state.ts | 98 | 1 | 2 | 4 | 5 |
| src\ui\components\dropdown\ui-builder.ts | 49 | 2 | 3 | 3 | 5 |
| src\ui\weekplan\ingredient-parser\quantity-parser.ts | 20 | 1 | 4 | 4 | 5 |
| src\ui\weekplan\recipe-modal\delta-manager.ts | 36 | 2 | 2 | 3 | 5 |
| src\ui\weekplan\recipe-modal\recipe-loader.ts | 25 | 2 | 3 | 3 | 5 |
| src\ui\weekplan\recipe-modal\save-handler.ts | 42 | 3 | 4 | 2 | 5 |
| src\script-backup.ts | 33 | 1 | 4 | 3 | 4 |
| src\script-units.ts | 33 | 1 | 4 | 3 | 4 |
| src\script-users.ts | 34 | 1 | 4 | 3 | 4 |
| src\script-webdav.ts | 34 | 1 | 4 | 3 | 4 |
| src\ui\components\dropdown\option-renderer.ts | 34 | 2 | 4 | 2 | 4 |
| src\ui\webdav-admin.ts | 35 | 3 | 3 | 1 | 4 |
| src\ui\print-utils\print-preview-content.ts | 23 | 2 | 3 | 1 | 3 |
| src\data\websocket\types.ts | 19 | 0 | 0 | 2 | 2 |
| src\ui\components\datepicker\inject-date-picker-styles.ts | 242 | 1 | 2 | 1 | 2 |
| src\ui\components\dropdown\styles.ts | 148 | 1 | 2 | 1 | 2 |
| src\ui\components\dropdown.ts | 55 | 1 | 2 | 1 | 2 |
| src\ui\components\index.ts | 120 | 2 | 2 | 0 | 2 |
| src\ui\shopping-list\print-dialog.ts | 215 | 2 | 2 | 0 | 2 |
| src\ui\units-admin.ts | 24 | 2 | 2 | 0 | 2 |
| src\ui\weekplan\index.ts | 63 | 2 | 2 | 0 | 2 |
| src\index-login.ts | 7 | 1 | 1 | 0 | 1 |
| src\ui\template-admin.ts | 19 | 1 | 1 | 0 | 1 |
| src\data\api\index.ts | 16 | 0 | 0 | 0 | 0 |
| src\data\api\stores-api\index.ts | 20 | 0 | 0 | 0 | 0 |
| src\data\api\stores-api.ts | 20 | 0 | 0 | 0 | 0 |
| src\data\api.ts | 14 | 0 | 0 | 0 | 0 |
| src\data\websocket\config.ts | 7 | 0 | 0 | 0 | 0 |
| src\data\websocket.ts | 46 | 0 | 0 | 0 | 0 |
| src\state\store-state\types.ts | 14 | 0 | 0 | 0 | 0 |
| src\ui\components\datepicker\datepicker-types.ts | 7 | 0 | 0 | 0 | 0 |
| src\ui\components\datepicker\index.ts | 4 | 0 | 0 | 0 | 0 |
| src\ui\components\datepicker.ts | 10 | 0 | 0 | 0 | 0 |
| src\ui\print-utils\index.ts | 6 | 0 | 0 | 0 | 0 |
| src\ui\product-admin\index.ts | 4 | 0 | 0 | 0 | 0 |
| src\ui\product-admin.ts | 6 | 0 | 0 | 0 | 0 |
| src\ui\shopping-list\index.ts | 8 | 0 | 0 | 0 | 0 |
| src\ui\template-admin\index.ts | 4 | 0 | 0 | 0 | 0 |
| src\ui\units-admin\index.ts | 7 | 0 | 0 | 0 | 0 |
| src\ui\units-admin\types.ts | 8 | 0 | 0 | 0 | 0 |
| src\ui\weekplan\ingredient-parser\constants.ts | 25 | 0 | 0 | 0 | 0 |
| src\ui\weekplan\ingredient-parser\index.ts | 8 | 0 | 0 | 0 | 0 |
| src\ui\weekplan\ingredient-parser.ts | 8 | 0 | 0 | 0 | 0 |
| src\ui\weekplan\recipe-modal\types.ts | 10 | 0 | 0 | 0 | 0 |
| src\ui\weekplan\types.ts | 39 | 0 | 0 | 0 | 0 |

## Summary

- Total files: 163
- Total lines: 16211
- Total functions: 795
- Average complexity: 10.60
- Average cyclomatic complexity: 10.56
- Average McCabe complexity: 15.44

## Complexity Ratings

McCabe Complexity Thresholds:
- 1-10: Simple, low risk
- 11-20: More complex, moderate risk
- 21-50: Complex, high risk
- 51+: Very complex, very high risk

Files with very high complexity (>50): 0
Files with high complexity (21-50): 51
